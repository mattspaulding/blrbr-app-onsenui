<!doctype html>
<html lang="en" ng-app="myApp">
	<head>
		<meta charset="utf-8">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">
		<title>My App</title>

		<link href="css/bootstrap.css" rel="stylesheet" media="screen">
		<link rel="stylesheet" type="text/css" href="css/index.css" />

		<link rel="stylesheet" href="lib/onsen/css/onsenui.css">
		<link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css">
		<link rel="stylesheet" href="styles/app.css"/>
		<link rel="stylesheet" href="css/page-player.css"/>

		<script src="lib/onsen/js/angular/angular.js"></script>
		<script src="lib/onsen/js/onsenui.js"></script>

		<script src="cordova.js"></script>
		<script src="js/app.js"></script>

		<script type="text/javascript" src="js/soundmanager2.js"></script>
		<script type="text/javascript" src="js/page-player.js"></script>
	</head>

	<body>

		<ons-sliding-menu var="slidingMenu"
		menu-page="menu.html" main-page="home.html" side="left"
		type="reveal" max-slide-distance="100%" swipable="true"></ons-sliding-menu>

		<ons-template id="menu.html">
			<ons-page id='MenuPage' class="ios-shift" ng-controller="MenuCtrl" style="background-color: white;">

				<ons-list style="text-align: center;height:100%;">
					<ons-list-item
					style="background-color: #4A6FB6; height:25%;"
					ng-click="gotoPage('home') ">

						<i class="fa fa-home fa-5x fa-fw vertical-align-middle" style="color: #000; "></i>
					</ons-list-item>

					<ons-list-item
					style="background-color: #F26722; height:25%;"
					ng-click="gotoPage('channel')">

						<i class="fa fa-list-ul fa-5x fa-fw vertical-align-middle" style="color: #000; "></i>
					</ons-list-item>

					<ons-list-item id="streamListItem" hidden="hidden"
					style="background-color: #6FBF46; height:25%;"
					ng-click="gotoPage('stream')">

						<i class="fa fa-headphones fa-5x fa-fw vertical-align-middle" style="color: #000; "></i>
					</ons-list-item>
					<ons-list-item id="streamListItemOff"
					style="background-color: lightgrey; height:25%;"
					>

						<i class="fa fa-headphones fa-5x fa-fw vertical-align-middle" style="color: #000; "></i>
					</ons-list-item>

					<ons-list-item id="blrbListItem" hidden="hidden"
					style="background-color: #F1EB55; height:25%;"
					ng-click="gotoPage('create')">

						<i class="fa fa-microphone fa-5x fa-fw vertical-align-middle" style="color: #000; "></i>
					</ons-list-item>

					<ons-list-item id="blrbListItemOff"
					style="background-color: lightgrey; height:25%;"
					>

						<i class="fa fa-microphone fa-5x fa-fw vertical-align-middle" style="color: #000; "></i>
					</ons-list-item>
				</ons-list>

			</ons-page>

		</ons-template>

		<ons-template  id="home.html">
			<div id="homePage"  class="ios-shift" ng-controller="HomeCtrl" style="text-align: center;" >
				<div class='row' style="margin:0px;font-size: 70px;text-align: center;">
					<div id="backBtn" class="col-xs-6" style="background-color: #4A6FB6;" ng-click="ons.slidingMenu.toggleMenu()">
						<div>
							<span class="fa fa-bars"></span>
						</div>
					</div>
					<div id="loadingBtn" class="col-xs-6" style="background-color: #FFFFFF;margin:0px;font-size: 70px;text-align: center;">
						<div>
							<span class="fa fa-spinner fa-spin"></span>
						</div>
					</div>

					<div id="loginBtn"  class="col-xs-6" style="background-color: #F1EB55;margin:0px;font-size: 70px;text-align: center;" onclick="gotoRoute('Account/Login');" hidden="hidden">
						<div>
							<span class="fa fa-sign-in"></span>
						</div>
					</div>
					<div id="blrbBtn" class="col-xs-6" style="background-color: #F1EB55;" hidden="hidden" ng-click="ons.slidingMenu.setMainPage('create.html', {closeMenu: true});">
						<div>
							<span class="fa fa-microphone"></span>
						</div>
					</div>
				</div>

				<img src="images/blrbrfish_logo_nobubble.png" width="100%" style="padding: 30px;"/>

				<img src="images/blrbr_logo_50.png"/>
				<div class='row' style="position: absolute;bottom: 0px;width:100%;margin:0px;">
					<div  style="text-align: center;width:100%;">
						<div id="accountBtn" style="background-color: #F1EB55;margin:0px;font-size: 30px;text-align: center;" hidden="hidden"ng-click="ons.slidingMenu.setMainPage('account.html', {closeMenu: true});">
							hi {{response.ScreenName}} <span class="fa fa-angle-double-right"></span>
						</div>
					</div>
				</div>
			</div>
		</ons-template>

		<ons-template  id="account.html">
			<div id="accountPage"  class="ios-shift" ng-controller="AccountCtrl" style="text-align: center;" >
				<div class='row' style="margin:0px;font-size: 70px;text-align: center;">
					<div id="backBtn" class="col-xs-6" style="background-color: #4A6FB6;" ng-click="ons.slidingMenu.toggleMenu()">
						<div>
							<span class="fa fa-bars"></span>
						</div>
					</div>
					<div id="logoutBtn" class="col-xs-6" style="background-color: #F1EB55;"onclick="gotoRoute('Account/Logoff');">
						<div>
							<span class="fa fa-sign-out"></span>
						</div>
					</div>
				</div>

				<img src="images/blrbrfish_logo_nobubble.png" width="100%" style="padding: 30px;"/>

				<img src="images/blrbr_logo_50.png"/>
			</div>
		</ons-template>

		<ons-template id="stream.html">

			<div id="streamPage" class="ios-shift" ng-controller="StreamCtrl" >
				<div id="streamLoad">
					<div style="background-color: #FFFFFF;margin:0px;font-size: 70px;text-align: center;padding-top:150px;">
						<span class="fa fa-spinner fa-spin"></span>
					</div>
				</div>
				<div id="streamMain" hidden='hidden'>
					<div class='row' style="margin:0px;font-size: 70px;text-align: center;">
						<div id="backBtn" class="col-xs-6" style="background-color: #4A6FB6;" ng-click="ons.slidingMenu.toggleMenu()">
							<div>
								<span class="fa fa-bars"></span>
							</div>
						</div>
						<div id="loginBtn"  class="col-xs-6" style="background-color: #F1EB55;margin:0px;font-size: 70px;text-align: center;" onclick="gotoRoute('Account/Login');">
							<div>
								<span class="fa fa-sign-in"></span>
							</div>
						</div>
						<div id="blrbBtn" class="col-xs-6" style="background-color: #F1EB55;"ng-click="ons.slidingMenu.setMainPage('create.html', {closeMenu: true});" hidden="hidden">
							<div>
								<span class="fa fa-microphone"></span>
							</div>
						</div>

					</div>

					<div id="channel" hidden="hidden" style="text-align: center;">
						<img src="{{response.Channel.BannerImg}}" style="width:100%;"/>
						<div>
							{{response.Channel.Name}}
						</div>
						<div>
							#{{response.Channel.Hashtag}}
						</div>
					</div>
					<div id="profile" hidden="hidden" style="margin: 10px;">
						<div class="row">
							<div class="col-xs-3" style="padding:0;text-align: center">
								<img src={{response.UserProfile.ProfileImageUrlBigger}} />
							</div>
							<div class="col-xs-9 border">
								<h3>{{response.UserProfile.ScreenName}}</h3>
								<h5>@{{response.UserProfile.Username}}</h5>
							</div>
						</div>
						<div class="row">
							<div class="col-xs-4 border">
								<div id="numberOfBlrbs">
									{{response.NumberOfBlrbs}}
								</div>
								<div>
									blrbs
								</div>
							</div>
							<div class="col-xs-4 border">
								<div>
									{{response.UserProfile.NumberOfBlrbrFriends}}
								</div>
								<div>
									fllwng
								</div>
							</div>
							<div class="col-xs-4 border">
								<div>
									{{response.UserProfile.NumberOfBlrbrFollowers}}
								</div>
								<div>
									fllwrs
								</div>
							</div>
						</div>

					</div>

					<ul class="playlist" >
						<li ng-repeat="blrb in response.BlrbStreamItems" style="background-color:#{{blrb.Color}};" class="blrbItem" id="{{blrb.Id}}">

							<a href="{{blrb.Sound}}" class="clip">
							<div class="row" style="background-color:white;margin:0px; ">
								<div class="col-xs-2" style="padding:0;">
									<img src="images/pause.png" alt="pause" class="pause" width="48" />
									<img src="images/play.png" alt="play" class="play" width="48" />
								</div>
								<div class="col-xs-9">
									<img src="{{blrb.Img}}" />
									{{blrb.ScreenName}}
								</div>
							</div> </a>

							<div style="background-color: white;">
								<htmldiv content="blrb.TextWithCordovaMarkup"></htmldiv>
							</div>
							<div class="row" style="margin:0; background-color: white;">
								<div class="col-xs-2 col-xs-offset-10" ng-click="reply(this)">
									<span class="fa fa-reply"></span>
								</div>
							</div>

						</li>

					</ul>
					<div style=" background-color: #DB5FA5; height: 50px; padding-top:5px; font-size:xx-large; text-align:center;" ng-click="LoadBlrbs()">
						<span class=" glyphicon glyphicon-cloud-download"></span> ld prvs blrbs <span class=" glyphicon glyphicon-cloud-download"></span>
					</div>
				</div>
			</div>
		</ons-template>
		<ons-template id="channel.html">

			<div id="channelPage" class="ios-shift" ng-controller="ChannelCtrl" >
				<div id="channelLoad">
					<div style="background-color: #FFFFFF;margin:0px;font-size: 70px;text-align: center;padding-top:150px;">
						<span class="fa fa-spinner fa-spin"></span>
					</div>
				</div>
				<div id="channelMain" hidden='hidden'>
					<div class='row' style="margin:0px;font-size: 70px;text-align: center;">
						<div id="backBtn" class="col-xs-6" style="background-color: #4A6FB6;" ng-click="ons.slidingMenu.toggleMenu()">
							<div>
								<span class="fa fa-bars"></span>
							</div>
						</div>
						<div id="searchBtn" class="col-xs-6" style="background-color: #F1EB55;" >
							<div>
								<span class="ion-search"></span>
							</div>
						</div>

					</div>

					<div class='row' ng-repeat="channel in response" style="margin:0px;">
						<div ng-click="gotoChannel(channel.Hashtag);" style='padding: 20px;'>
							<div class='col-xs-4'>
								<img src="{{channel.ProfileImg}}"  style="width: 80px;"></img>
							</div>
							<div class='col-xs-8' style='padding-top: 5px'>
								<div>
									{{channel.Name}}
								</div>
								<div>
									#{{channel.Hashtag}}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</ons-template>

		<ons-template id="create.html">

			<div id="createPage" class="ios-shift" ng-controller="CreateCtrl" style="font-size: 70px;text-align: center;">

				<div class='row' style="margin:0px;">
					<div id="backBtn" class="col-xs-6" style="background-color: #4A6FB6;" ng-click="ons.slidingMenu.toggleMenu()">
						<div>
							<span class="fa fa-bars"></span>
						</div>
					</div>
					<div id="blrbBtn" class="col-xs-6" style="background-color: #F1EB55;" hidden="hidden">
						<div>
							<span class="ion-upload"></span>
						</div>
					</div>
					<div id="blrbBtnOff" class="col-xs-6" style="background-color: lightgrey;" >
						<div>
							<span class="ion-upload"></span>
						</div>
					</div>

				</div>
				<div id="loading" class='row'>
					<br>
					<p>
						blrbn...
					</p>
					<div>
						<span class="ion-upload"></span>
					</div>
				</div>
				<div class='row' style="position: absolute;bottom: 0px;width:100%;margin:0px;">
					<div style="text-align: center; font-size: xx-large; padding:0px;" class="col-xs-12">
						<div id="twitterYes" style="background-color: rgb(194, 0, 211) ;height:75px;" ng-click="twitterToggle('no');">
							<img src="images/bird_blue_48.png" style="padding-top: 20px;"/>
						</div>
						<div id="twitterNo" style="background-color: lightgrey;height:75px;" ng-click="twitterToggle('yes');" hidden="hidden">
							<img src="images/bird_white_48.png" style="padding-top: 20px;"/>
						</div>

					</div>
					<div id="recordBtn" class="col-xs-6" style="background-color: #F26722" >
						<div>
							<span class="glyphicon glyphicon-record"></span>
						</div>
					</div>
					<div id="stopBtn" class="col-xs-6" style="background-color: red " hidden="hidden">
						<div>
							<span class="glyphicon glyphicon-stop"></span>
						</div>
					</div>
					<div id="playBtn" class="col-xs-6" style="background-color: #6FBF46" hidden="hidden">
						<div>
							<span class="glyphicon glyphicon-play"></span>
						</div>
					</div>
					<div id="playBtnOff" class="col-xs-6" style="background-color: lightgrey">
						<div>
							<span class="glyphicon glyphicon-play"></span>
						</div>
					</div>
				</div>

				<div class='row' style="position: absolute;bottom: 175px;top:100px;width:100%;margin:0px;">
					<textarea id="text_textarea" class="input-xlarge" style="width:100%;height:100%;border:white;font-size: xx-large;"></textarea>
					<div id="recording_textarea" hidden="hidden" style="height:100%; background-color: red;">
						<i class="fa fa-microphone-slash col-xs-12" style="font-size:150px;padding-top: 20px; "></i>
						<i class="fa fa-microphone col-xs-12" hidden="hidden" style="font-size:150px;padding-top: 20px; " ></i>

						<!-- <div id="audioPosition" class="col-xs-6" style="padding-top:50px;"></div> -->
					</div>
				</div>
			</div>

		</ons-template>

		<script type="text/javascript" src="js/jquery.js"></script>
		<script type="text/javascript" src="js/deviceCheck.js"></script>
		<script type="text/javascript" src="js/index.js"></script>
		<script type="text/javascript" src="js/route.js"></script>

		<!--Script references. -->
		<!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
		<!--Reference the SignalR library. -->
		<script src="js/jquery.signalR-2.0.2.js"></script>
		<!--Reference the autogenerated SignalR hub script. -->
		<script src="http://blrbrdev.azurewebsites.net/signalr/hubs" type="text/javascript"></script>
		<!--SignalR script to update the chat page and send messages.-->

	</body>
</html>
